@use "sass:color";
@use "../base/functions";
@use "../base/mixins";
@use "../base/variables";

// ==========================================================================
// NAVIGATION - SMACSS Components
// ==========================================================================
// Este archivo contiene todos los estilos para navegación del proyecto
// Incluye sidebar, navbar, tabs, breadcrumbs, etc.

// Contenedor principal
.container {
  display: flex;
  min-height: 100vh;
  width: 100vw;
}

// Sidebar principal
.sidebar {
  flex: 0 0 100px;
  background: transparent;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  position: relative;
  z-index: functions.z('sticky');
  
  @include mixins.respond-to('md') {
    flex: 0 0 80px;
  }
  
  @include mixins.respond-to('sm') {
    position: fixed;
    top: 0;
    left: -100px;
    height: 100vh;
    background: rgba(variables.$primary-bg, 0.95);
    backdrop-filter: blur(10px);
    border-right: 2px solid rgba(variables.$accent-blue, 0.3);
    transition: variables.$transition-base;
    z-index: functions.z('modal');
    
    &.sidebar--open {
      left: 0;
    }
  }
}

// Logo vertical
.logo-vertical {
  writing-mode: vertical-lr;
  transform: rotate(180deg);
  margin-top: functions.spacing('16');
  
  @include mixins.respond-to('sm') {
    writing-mode: horizontal-tb;
    transform: none;
    margin-top: functions.spacing('8');
    text-align: center;
  }
}

.arkadex-logo {
  font-size: functions.font-size('4xl');
  font-family: variables.$font-primary;
  color: variables.$accent-blue;
  font-weight: bold;
  letter-spacing: 2px;
  text-shadow: 2px 2px 0 variables.$accent-pink;
  line-height: 1.1;
  text-align: center;
  @include mixins.neon-text(variables.$accent-blue, 0.4);
  
  @include mixins.respond-to('md') {
    font-size: functions.font-size('3xl');
  }
  
  @include mixins.respond-to('sm') {
    font-size: functions.font-size('2xl');
    text-shadow: 1px 1px 0 variables.$accent-pink;
  }
}

// Botón de menú móvil
.menu-toggle {
  display: none;
  position: fixed;
  top: functions.spacing('4');
  left: functions.spacing('4');
  z-index: functions.z('modal') + 1;
  background: rgba(variables.$primary-bg, 0.9);
  border: 2px solid variables.$accent-blue;
  border-radius: 0.25rem;
  padding: functions.spacing('2');
  color: variables.$accent-blue;
  cursor: pointer;
  transition: variables.$transition-base;
  
  @include mixins.respond-to('sm') {
    display: block;
  }
  
  &:hover {
    background: rgba(variables.$accent-blue, 0.1);
    box-shadow: 0 0 15px rgba(variables.$accent-blue, 0.3);
  }
  
  .hamburger {
    width: 24px;
    height: 18px;
    position: relative;
    
    span {
      display: block;
      height: 2px;
      width: 100%;
      background: variables.$accent-blue;
      border-radius: 1px;
      position: absolute;
      transition: variables.$transition-base;
      
      &:nth-child(1) { top: 0; }
      &:nth-child(2) { top: 8px; }
      &:nth-child(3) { top: 16px; }
    }
  }
  
  &.menu-toggle--active {
    .hamburger span {
      &:nth-child(1) {
        transform: rotate(45deg);
        top: 8px;
      }
      
      &:nth-child(2) {
        opacity: 0;
      }
      
      &:nth-child(3) {
        transform: rotate(-45deg);
        top: 8px;
      }
    }
  }
}

// Contenido principal
.main-content {
  flex: 1;
  padding: 0 functions.spacing('5') 0 0;
  display: flex;
  flex-direction: column;
  min-width: 0;
  
  @include mixins.respond-to('sm') {
    padding: 0 functions.spacing('4');
  }
}

// Header principal
header {
  padding-top: functions.spacing('8');
  position: relative;
  margin-bottom: functions.spacing('6');
  
  @include mixins.respond-to('sm') {
    padding-top: functions.spacing('16'); // Espacio para el botón de menú
  }
}

.subtitle {
  font-size: functions.font-size('lg');
  color: variables.$text-gray;
  text-align: center;
  margin-bottom: functions.spacing('8');
  opacity: 0.8;
}

// Navegación por tabs
.nav-tabs {
  display: flex;
  border-bottom: 2px solid rgba(variables.$accent-blue, 0.2);
  margin-bottom: functions.spacing('6');
  overflow-x: auto;
  
  @include mixins.respond-to('sm') {
    flex-wrap: nowrap;
    -webkit-overflow-scrolling: touch;
  }
}

.nav-item {
  flex: 0 0 auto;
}

.nav-link {
  display: block;
  padding: functions.spacing('4') functions.spacing('6');
  color: variables.$text-gray;
  text-decoration: none;
  border-bottom: 3px solid transparent;
  transition: variables.$transition-base;
  font-family: variables.$font-primary;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  white-space: nowrap;
  
  &:hover {
    color: variables.$accent-blue;
    background: rgba(variables.$accent-blue, 0.05);
  }
  
  &.active {
    color: variables.$accent-blue;
    border-bottom-color: variables.$accent-blue;
    @include mixins.neon-text(variables.$accent-blue, 0.3);
    
    &::before {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, variables.$accent-blue, variables.$accent-pink);
      border-radius: 2px 2px 0 0;
    }
  }
  
  @include mixins.respond-to('sm') {
    padding: functions.spacing('3') functions.spacing('4');
    font-size: functions.font-size('sm');
  }
}

// Breadcrumbs
.breadcrumb {
  display: flex;
  align-items: center;
  gap: functions.spacing('2');
  margin-bottom: functions.spacing('4');
  font-size: functions.font-size('sm');
  
  &__item {
    color: variables.$text-gray;
    
    &:not(:last-child)::after {
      content: '/';
      margin-left: functions.spacing('2');
      color: rgba(variables.$text-gray, 0.5);
    }
    
    &--active {
      color: variables.$accent-blue;
    }
  }
  
  a {
    color: inherit;
    transition: variables.$transition-base;
    
    &:hover {
      color: variables.$accent-blue;
    }
  }
}

// Navegación secundaria
.nav-secondary {
  display: flex;
  gap: functions.spacing('4');
  align-items: center;
  margin-bottom: functions.spacing('6');
  
  @include mixins.respond-to('sm') {
    flex-direction: column;
    align-items: stretch;
    gap: functions.spacing('2');
  }
}

.nav-secondary__item {
  padding: functions.spacing('2') functions.spacing('4');
  background: rgba(variables.$accent-blue, 0.1);
  border: 1px solid rgba(variables.$accent-blue, 0.2);
  border-radius: 0.25rem;
  color: variables.$accent-blue;
  text-decoration: none;
  transition: variables.$transition-base;
  font-size: functions.font-size('sm');
  
  &:hover {
    background: rgba(variables.$accent-blue, 0.2);
    transform: translateY(-1px);
  }
  
  &--active {
    background: variables.$accent-blue;
    color: white;
    
    &:hover {
      background: color.adjust(variables.$accent-blue, $lightness: 10%);
    }
  }
}

// Paginación
.pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: functions.spacing('2');
  margin: functions.spacing('8') 0;
  
  &__item {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border: 2px solid rgba(variables.$accent-blue, 0.3);
    border-radius: 0.25rem;
    color: variables.$text-gray;
    text-decoration: none;
    transition: variables.$transition-base;
    font-weight: 600;
    
    &:hover {
      border-color: variables.$accent-blue;
      color: variables.$accent-blue;
      background: rgba(variables.$accent-blue, 0.1);
    }
    
    &--active {
      background: variables.$accent-blue;
      border-color: variables.$accent-blue;
      color: white;
      @include mixins.neon-text(white, 0.2);
    }
    
    &--disabled {
      opacity: 0.5;
      cursor: not-allowed;
      pointer-events: none;
    }
  }
  
  &__ellipsis {
    padding: 0 functions.spacing('2');
    color: variables.$text-gray;
  }
}

// Overlay para móvil
.sidebar-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(variables.$primary-bg, 0.8);
  z-index: functions.z('modal') - 1;
  
  @include mixins.respond-to('sm') {
    &.sidebar-overlay--active {
      display: block;
    }
  }
}

// Animaciones
@keyframes slideInLeft {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

.sidebar--open {
  animation: slideInLeft 0.3s ease-out;
}